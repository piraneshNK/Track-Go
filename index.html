<!DOCTYPE html>
<html>
<head>
  <title>LinkGuard - Professional Security Suite</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">
      <i class="fa-solid fa-shield-halved"></i>
      <span>LinkGuard</span>
    </div>
    <nav>
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Statistics</a>
      <a href="#">Settings</a>
    </nav>
  </header>

  <main>
    <div class="hero">
      <i class="fa-solid fa-shield-halved"></i>
      <h1>LinkGuard</h1>
      <p class="tagline">✨ Professional Security Suite</p>
      <p>Advanced URL security analysis powered by **AI** and real-time threat intelligence. Protect yourself from phishing, malware, and suspicious websites.</p>
    </div>

    <div class="checker-box">
      <h2>Enter URL to analyze for security threats:</h2>
      <div class="input-container">
        <input id="urlInput" type="text" placeholder="https://example.com">
        <i class="fa-solid fa-arrow-up-right-from-square"></i>
      </div>
      <button onclick="checkUrl()">
        <i class="fa-solid fa-lock"></i>
        Analyze URL Security
      </button>
      <div id="resultBox"></div>
    </div>
  </main>

  <script>
    const API_KEY = "AIzaSyBYmYChn-IvCN4dkEh9zSABRLs38LHpags"; // ⚠️ For testing only!
    const ENDPOINT = `https://safebrowsing.googleapis.com/v4/threatMatches:find?key=${API_KEY}`;

    async function checkUrl() {
      const url = document.getElementById("urlInput").value.trim();
      const resultBox = document.getElementById("resultBox");

      if (!url) {
        resultBox.innerHTML = "⚠️ Please enter a URL.";
        resultBox.className = "unsafe";
        return;
      }

      resultBox.innerHTML = "⏳ Checking...";
      resultBox.className = "loading";

      const reqBody = {
        client: { clientId: "linkguard", clientVersion: "1.0" },
        threatInfo: {
          threatTypes: ["MALWARE", "SOCIAL_ENGINEERING", "UNWANTED_SOFTWARE"],
          platformTypes: ["ANY_PLATFORM"],
          threatEntryTypes: ["URL"],
          threatEntries: [{ url }]
        }
      };

      try {
        const resp = await fetch(ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(reqBody)
        });
        const data = await resp.json();

        if (data.matches && data.matches.length > 0) {
          resultBox.innerHTML = `⚠️ Unsafe: ${data.matches[0].threatType}`;
          resultBox.className = "unsafe";
        } else {
          resultBox.innerHTML = "✅ Safe website";
          resultBox.className = "safe";
        }
      } catch (err) {
        resultBox.innerHTML = "❌ Error checking the URL.";
        resultBox.className = "unsafe";
        console.error(err);
      }
    }
  </script>
</body>
</html>