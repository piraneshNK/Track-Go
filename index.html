<!DOCTYPE html>
<html>
<head>
  <title>LinkGuard - Phishing Link Checker</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 50px; background: #f9fafc; }
    input { width: 300px; padding: 10px; border-radius: 6px; border: 1px solid #ccc; }
    button { padding: 10px 15px; margin-left: 5px; border: none; border-radius: 6px; background: #007BFF; color: white; cursor: pointer; }
    button:hover { background: #0056b3; }
    #resultBox { margin-top: 30px; padding: 20px; border-radius: 8px; width: 400px; margin-left: auto; margin-right: auto; font-size: 18px; font-weight: bold; }
    .safe { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .unsafe { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
  </style>
</head>
<body>
  <h1>üîç LinkGuard</h1>
  <p>Paste a link below to check if it‚Äôs safe.</p>

  <input id="urlInput" type="text" placeholder="https://example.com">
  <button onclick="checkUrl()">Check</button>

  <div id="resultBox">No scan yet</div>

  <script>
    const API_KEY = "YOUR_GOOGLE_API_KEY"; // Replace with your Safe Browsing API key
    const ENDPOINT = `https://safebrowsing.googleapis.com/v5/encodedFullHashes:find?key=${API_KEY}`;

    async function checkUrl() {
      const url = document.getElementById("urlInput").value.trim();
      const resultBox = document.getElementById("resultBox");

      if (!url) {
        resultBox.innerHTML = "‚ö†Ô∏è Please enter a URL.";
        resultBox.className = "unsafe";
        return;
      }

      resultBox.innerHTML = "‚è≥ Checking...";
      resultBox.className = "";

      const reqBody = {
        client: { clientId: "linkguard", clientVersion: "1.0" },
        threatInfo: {
          threatTypes: ["MALWARE", "SOCIAL_ENGINEERING", "UNWANTED_SOFTWARE"],
          platformTypes: ["ANY_PLATFORM"],
          threatEntryTypes: ["URL"],
          threatEntries: [{ url }]
        }
      };

      try {
        const resp = await fetch(ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(reqBody)
        });
        const data = await resp.json();

        if (data.matches && data.matches.length > 0) {
          resultBox.innerHTML = `‚ö†Ô∏è Unsafe: ${data.matches[0].threatType}`;
          resultBox.className = "unsafe";
        } else {
          resultBox.innerHTML = "‚úÖ Safe website";
          resultBox.className = "safe";
        }
      } catch (err) {
        resultBox.innerHTML = "‚ùå Error checking the URL.";
        resultBox.className = "unsafe";
        console.error(err);
      }
    }
  </script>
</body>
</html>
